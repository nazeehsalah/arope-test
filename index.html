<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Arope</title>
  <base href="https://online.aropeegypt.com.eg/arope-test/">  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://cdn.materialdesignicons.com/4.7.95/css/materialdesignicons.min.css" rel="stylesheet">

  <!--    <script id="myscript" src="https://qnbalahli.test.gateway.mastercard.com/checkout/version/43/checkout.js"
    data-cancel="cancelCallback"
    data-error="errorCallback"
    data-complete="completeCallback"

    >
    </script> -->

  <script src="https://atfawry.fawrystaging.com/ECommercePlugin/scripts/FawryPay.js"></script>
  <!-- <script id="myscript" src="https://test-gateway.mastercard.com/checkout/version/39/checkout.js"
    data-cancel="cancelCallback"
    data-error="errorCallback"

    >
    </script> -->
  <script>
    function cancelCallback() {
      console.log('Payment cancelled');
    }

    function errorCallback(error) {
      console.log(JSON.stringify(error));
      alert('The Operation couldn\'t be complated');

    }

    function timeoutCallback() {
      alert('Network Error : No Data Received.');
    }

    function completeCallback() {
      // fetch('http://207.154.195.214:4000/complete/travel/test')
      // .then(response => response.json())
      // .then(data => console.log(data));
      const key = JSON.parse(localStorage.getItem('formData')).key;
      if (key == 'travel') {

        window.location.replace(
          'https://online.aropeegypt.com.eg/arope-test/traveler-insurance/traveler-info?step=thankyou');
      } else {
        window.location.replace(
          'https://online.aropeegypt.com.eg/arope-test/personal-accident/personal-result?step=thankyou'
        );
      }
    }
    function generalPaymentComplete(res) {
      console.log(res)
      document.location.href = document.location.href.substr(0, document.location.href.lastIndexOf("/")) + "/stauts/true"
    }
  </script>
  <script>
    if (global === undefined) {
      var global = window;
    }
  </script>
  <script>
    if (window.location.protocol.indexOf('https') == 0) {
      var el = document.createElement('meta')
      el.setAttribute('http-equiv', 'Content-Security-Policy')
      el.setAttribute('content', 'upgrade-insecure-requests')
      document.head.append(el)
    }
  </script>

  <!-- <link rel="stylesheet" href="http://207.154.195.214:8070/im_livechat/external_lib.css"/> -->

  <!-- <script src="https://qnbalahli.test.gateway.mastercard.com/checkout/version/49/checkout.js" data-error="errorCallback" data-cancel="cancelCallback"> -->
  <!-- </script> -->

<link rel="stylesheet" href="styles.e43b6360cd28e65f2585.css"></head>

<body>
  <app-root></app-root>
  <!-- <script type="text/javascript" src="http://207.154.195.214:8070/im_livechat/external_lib.js"></script>
    <script type="text/javascript" src="http://207.154.195.214:8070/im_livechat/loader/1"></script> -->
<script src="runtime-es2015.cdfb0ddb511f65fdc0a0.js" type="module"></script><script src="runtime-es5.cdfb0ddb511f65fdc0a0.js" nomodule defer></script><script src="polyfills-es5.0290b245fbcca09184ac.js" nomodule defer></script><script src="polyfills-es2015.ffa9bb4e015925544f91.js" type="module"></script><script src="main-es2015.6393bd6c26a00638ea2b.js" type="module"></script><script src="main-es5.6393bd6c26a00638ea2b.js" nomodule defer></script></body>

</html>
